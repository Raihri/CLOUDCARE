<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="${doctor.name} + ' â€” Profile'">Doctor Profile</title>

    <!-- Icons -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

    <link rel="stylesheet" th:href="@{/css/style2.css}" />
    <style>
        /* --------------------------------------------------
   GLOBAL STYLING
-------------------------------------------------- */
body {
    margin: 0;
    font-family: 'Inter', 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #e9f2ff, #f7fbff);
    color: #333;
}

a.back {
    display: inline-flex;
    align-items: center;
    font-size: 16px;
    color: #4A90E2;
    text-decoration: none;
    font-weight: 600;
    transition: 0.2s;
}

a.back:hover {
    color: #2d6fcf;
    transform: translateX(-4px);
}

a.back i {
    margin-right: 8px;
}

/* --------------------------------------------------
   LAYOUT CONTAINER
-------------------------------------------------- */
.profile-container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 25px;
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 35px;
}

/* --------------------------------------------------
   LEFT COLUMN
-------------------------------------------------- */
.profile-left {
    background: white;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
    text-align: center;
    transition: 0.3s ease;
}

.profile-left:hover {
    transform: translateY(-4px);
}

.profile-left img {
    border: 4px solid #4A90E2;
    box-shadow: 0 0 18px rgba(74, 144, 226, 0.2);
}

.profile-left h2 {
    margin-top: 18px;
    font-size: 24px;
    font-weight: 700;
}

/* Specialty Badge */
.badge {
    display: inline-block;
    margin: 12px 0;
    padding: 6px 14px;
    background: #4A90E2;
    color: white;
    font-size: 13px;
    font-weight: 600;
    border-radius: 20px;
}

/* Info items in left column */
.profile-left p {
    font-size: 15px;
    margin: 10px 0;
    color: #444;
}

.profile-left strong {
    color: #1b3e72;
}


/* --------------------------------------------------
   RIGHT COLUMN
-------------------------------------------------- */
.profile-right {
    display: flex;
    flex-direction: column;
    gap: 25px;
}
.btn-appointments {
    display: block;
    width: 100%;
    padding: 12px 0;
        margin-top: 20px;
        text-align: center;
        font-size: 16px;
        font-weight: bold;
        color: #fff;
        background: linear-gradient(135deg, #6a11cb, #2575fc);
        border: none;
        border-radius: 8px;
        text-decoration: none;
        box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    }

    .btn-appointments:hover {
        background: linear-gradient(135deg, #2575fc, #6a11cb);
        box-shadow: 0 6px 10px rgba(0,0,0,0.3);
        transform: translateY(-2px);
    }

    .btn-appointments i {
        margin-right: 8px;
    }

/* Section Card */
.section {
    background: white;
    padding: 25px 28px;
    border-radius: 16px;
    box-shadow: 0 5px 18px rgba(0, 0, 0, 0.05);
    border-left: 5px solid #4A90E2;
    transition: 0.25s ease;
}

.section:hover {
    transform: translateY(-4px);
}

.section h3 {
    margin-bottom: 18px;
    color: #2c5aa0;
    font-size: 20px;
    font-weight: 700;
}

/* --------------------------------------------------
   GRID LAYOUT INSIDE SECTIONS
-------------------------------------------------- */
.info-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 18px 20px;
}

.info-grid div {
    background: #f1f7ff;
    padding: 14px 16px;
    border-radius: 10px;
    border: 1px solid #d8e8ff;
    transition: 0.2s;
}

.info-grid div:hover {
    background: #e6f1ff;
}

.info-grid strong {
    font-weight: 700;
    display: block;
    color: #224f8a;
    margin-bottom: 6px;
}

.info-grid span {
    font-size: 15px;
    color: #444;
}

/* full width row */
.full-width {
    grid-column: 1 / -1;
}

/* --------------------------------------------------
   RESPONSIVE
-------------------------------------------------- */
@media (max-width: 1000px) {
    .profile-container {
        grid-template-columns: 1fr;
        padding: 10px;
    }

    .profile-left {
        max-width: 350px;
        margin: 0 auto;
    }
}

@media (max-width: 600px) {
    .info-grid {
        grid-template-columns: 1fr;
    }

    .profile-container {
        margin-top: 10px;
    }

    .section {
        padding: 18px;
    }
}

    </style>
</head>
<body>

<a href="/patient/doctor_list" class="back" style="padding:15px; margin:15px;">
    <i class="fa fa-arrow-left"></i> Back to list
</a>

<div class="profile-container">

    <!-- LEFT COLUMN -->
    <div class="profile-left">

        <!-- Image Upload Form -->
        <form th:action="@{|/doctor/${doctor.id}/upload-photo|}" method="post" enctype="multipart/form-data">

            <div style="position: relative; width: 200px; height: 200px; margin: 0 auto;">

                <!-- FIXED: Shows Cloudinary image directly -->
                <img th:src="${doctor.profileImage != null} ? ${doctor.profileImage} : '/images/default-profile.png'"
                     alt="Doctor Photo"
                     onerror="this.onerror=null; this.src='/images/default-profile.png';"
                     style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" />




            </div>
        </form>

        <h2 th:text="${doctor.name}">Dr Name</h2>

        <span class="badge" th:text="${doctor.specialization}">Specialization</span>

        <p><strong>Experience:</strong>
            <span th:text="${doctor.experienceYears}">0</span> years
        </p>

        <p><strong>Hospital:</strong>
            <span th:text="${doctor.hospitalName}">Hospital Name</span>
        </p>

        <p><strong>Telemedicine:</strong>
            <span th:text="${doctor.telemedicineAvailable}">true</span>
        </p>
        <a th:href="@{|/patient/${doctor.id}/availability|}" 
       class="btn-appointments" 
       >
        <i class="fa fa-calendar"></i> View Appointments
    </a>

    </div>

    <!-- RIGHT COLUMN -->
    <div class="profile-right">

        <!-- Contact Information -->
        <div class="section">
            <h3>Contact Information</h3>
            <div class="info-grid">

                <div>
                    <strong>Email</strong>
                    <span th:text="${doctor.email}">email@example.com</span>
                </div>

                <div>
                    <strong>Phone</strong>
                    <span th:text="${doctor.phoneNumber}">+8801XXXXXXXXX</span>
                </div>

                <div>
                    <strong>Alt Phone</strong>
                    <span th:text="${doctor.altPhone}">+8801XXXXXXXXX</span>
                </div>

                <div>
                    <strong>Emergency Contact</strong>
                    <span th:text="${doctor.emergencyContact}">+8801XXXXXXXXX</span>
                </div>

            </div>
        </div>

        <!-- Address & Schedule -->
        <div class="section">
            <h3>Address & Schedule</h3>
            <div class="info-grid">

                <div>
                    <strong>Full Address</strong>
                    <span th:text="${doctor.address}">Address here</span>
                </div>

                <div>
                    <strong>Division / Zilla</strong>
                    <span th:text="${doctor.division + ' / ' + doctor.zilla}">Division / Zilla</span>
                </div>

                <div>
                    <strong>Street / Postal</strong>
                    <span th:text="${doctor.street + ' / ' + doctor.postalCode}">Street / Postal</span>
                </div>

                <div>
                    <strong>Working Days / Hours</strong>
                    <span th:text="${doctor.workingDays + ' ' + doctor.workingHours}">Mon-Fri 9-5</span>
                </div>

                <div class="full-width">
                    <strong>Leave Dates</strong>
                    <span th:text="${doctor.leaveDates}">None</span>
                </div>

            </div>
        </div>

        <!-- Professional Information -->
        <div class="section">
            <h3>Professional Information</h3>
            <div class="info-grid">

                <div>
                    <strong>Education</strong>
                    <span th:text="${doctor.education}">MBBS</span>
                </div>

                <div>
                    <strong>Certifications</strong>
                    <span th:text="${doctor.certifications}">Certifications here</span>
                </div>

                <div>
                    <strong>Languages</strong>
                    <span th:text="${doctor.languages}">English, Bangla</span>
                </div>

                <div class="full-width">
                    <strong>Special Interests</strong>
                    <span th:text="${doctor.specialInterests}">special interest</span>
                </div>

            </div>
        </div>

        <!-- Awards & Publications -->
        <div class="section">
            <h3>Awards & Publications</h3>

            <div class="info-grid">

                <div class="full-width">
                    <strong>Awards</strong>
                    <span th:text="${doctor.awards}">Awards info</span>
                </div>

                <div class="full-width">
                    <strong>Publications / Research</strong>
                    <span th:text="${doctor.publications}">Research info</span>
                </div>

                <div class="full-width">
                    <strong>Notes</strong>
                    <span th:text="${doctor.notes}">Notes info</span>
                </div>

            </div>

        </div>

    </div>
</div>

</body>
</html>